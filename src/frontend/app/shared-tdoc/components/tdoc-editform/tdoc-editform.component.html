<form [formGroup]="editFormGroup" class="form-control-sm" (ngSubmit)="submitSave($event)" *ngIf="record !== undefined">
    <ng-container [ngSwitch]="record.type">
        <ng-container *ngSwitchCase="'LOCATION'">
            <ng-container *ngTemplateOutlet="formLocation"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'TRACK'">
            <ng-container *ngTemplateOutlet="formTrack"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'IMAGE'">
            <ng-container *ngTemplateOutlet="formImage"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'VIDEO'">
            <ng-container *ngTemplateOutlet="formVideo"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'ROUTE'">
            <ng-container *ngTemplateOutlet="formRoute"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'TRIP'">
            <ng-container *ngTemplateOutlet="formTrip"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'NEWS'">
            <ng-container *ngTemplateOutlet="formNews"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'INFO'">
            <ng-container *ngTemplateOutlet="formInfo"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'PLAYLIST'">
            <ng-container *ngTemplateOutlet="formPlaylist"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'POI'">
            <ng-container *ngTemplateOutlet="formPoi"></ng-container>
        </ng-container>

        <ng-container *ngSwitchCase="'ODIMGOBJECT'">
            <ng-container *ngTemplateOutlet="formOdImageObject"></ng-container>
        </ng-container>

    </ng-container>

    <ng-template #formLocation>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
                <ng-container *ngTemplateOutlet="inputLoctype"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputLocationParent"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="geoData label|Label for fieldset: geoData@@label.editform.tdoc.legend.geoData">&#x26f3; Geo-Daten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'gpsTrackState', formControlName: 'gpsTrackState'}"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputGeoPosition;context:{flgShowArea: true}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <legend i18n="dataAdditionalData label|Label for fieldset: dataAdditionalData@@label.editform.tdoc.legend.dataAdditionalData">&#x231a; Zusatzdaten</legend>
            <div class="row">
                <ng-container *ngFor="let idx of joinIndexes['linkedInfos']">
                    <ng-container *ngTemplateOutlet="inputLinkedInfo;context:{key: 'linkedInfo', idx: idx, joinName: 'linkedInfos'}"></ng-container>
                </ng-container>
            </div>
        </fieldset>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputKeywords"></ng-container>
            </div>
        </fieldset>
        <div class="row">
            <ng-container *ngTemplateOutlet="inputDesc;context:{recommend: true}"></ng-container>
        </div>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
    </ng-template>

    <ng-template #formTrack>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
                <ng-container *ngTemplateOutlet="inputDateStart;context:{recommend: formatInputDate(trackStatistic.dateStart)}"></ng-container>
                <ng-container *ngTemplateOutlet="inputDateEnd;context:{recommend: formatInputDate(trackStatistic.dateEnd)}"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputLocation"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputActiontype"></ng-container>
                <ng-container *ngTemplateOutlet="inputTrip"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputRoute"></ng-container>
                <ng-container *ngTemplateOutlet="inputTextTech;context:{key: 'linkedRouteAttr', formControlName: 'linkedRouteAttr'}"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataAdditionalData label|Label for fieldset: dataAdditionalData@@label.editform.tdoc.legend.dataAdditionalData">&#x231a; Zusatzdaten</legend>
            <div class="row">
                <ng-container *ngFor="let idx of joinIndexes['linkedRoutes']">
                    <ng-container *ngTemplateOutlet="inputLinkedRoute;context:{key: 'linkedRoute', idx: idx, joinName: 'linkedRoutes'}"></ng-container>
                </ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataTech label|Label for fieldset: dataTech@@label.editform.tdoc.legend.dataTech">&#x231a; technische Daten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.dist', formControlName: 'tdocdatatech_dist', recommend: trackStatistic.dist, step: '0.1', min: 0}"></ng-container>
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.altMax', formControlName: 'tdocdatatech_altMax', recommend: trackStatistic.altMax}"></ng-container>
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.altAsc', formControlName: 'tdocdatatech_altAsc', recommend: trackStatistic.altAsc, min: 0}"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.altDesc', formControlName: 'tdocdatatech_altDesc', recommend: trackStatistic.altDesc, min: 0}"></ng-container>
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.altMin', formControlName: 'tdocdatatech_altMin', recommend: trackStatistic.altMin}"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="ratePersCharacter label|Label for fieldset: ratePersCharacter@@label.editform.tdoc.legend.ratePersCharacter">&#x2764; persönliche Bewertung: Charakter</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.gesamt', formControlName: 'tdocratepers_gesamt'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.wichtigkeit', formControlName: 'tdocratepers_wichtigkeit'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.motive', formControlName: 'tdocratepers_motive'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.bildung', formControlName: 'tdocratepers_bildung'}"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="ratePersDificult label|Label for fieldset: ratePersDificult@@label.editform.tdoc.legend.ratePersDificult">&#x26F9; persönliche Bewertung: Schwierigkeit</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.schwierigkeit', formControlName: 'tdocratepers_schwierigkeit'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.ausdauer', formControlName: 'tdocratepers_ausdauer'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.kraft', formControlName: 'tdocratepers_kraft'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.mental', formControlName: 'tdocratepers_mental'}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputKeywords"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputDesc;context:{recommend: true}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <legend i18n="geoData label|Label for fieldset: geoData@@label.editform.tdoc.legend.geoData">&#x26f3; Geo-Daten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'gpsTrackState', formControlName: 'gpsTrackState'}"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputGpsTrack"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataPoi label|Label for fieldset: dataPoi@@label.editform.tdoc.legend.dataPois">&#x26f3; POIs bearbeiten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputPoiList"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataPoi label|Label for fieldset: dataPoi@@label.editform.tdoc.legend.newPois">&#x26f3; POIs hinzufügen</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputNewPois"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
    </ng-template>

    <ng-template #formImage>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
                <ng-container *ngTemplateOutlet="inputDateStartTime"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputLocation"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="ratePersCharacter label|Label for fieldset: ratePersCharacter@@label.editform.tdoc.legend.ratePersCharacter">&#x2764; persönliche Bewertung: Charakter</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.gesamt_image', formControlName: 'tdocratepers_gesamt'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.wichtigkeit', formControlName: 'tdocratepers_wichtigkeit'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.motive', formControlName: 'tdocratepers_motive'}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputKeywords"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputDesc"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
    </ng-template>

    <ng-template #formVideo>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
                <ng-container *ngTemplateOutlet="inputDateStartTime"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputLocation"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="ratePersCharacter label|Label for fieldset: ratePersCharacter@@label.editform.tdoc.legend.ratePersCharacter">&#x2764; persönliche Bewertung: Charakter</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.gesamt_image', formControlName: 'tdocratepers_gesamt'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.wichtigkeit', formControlName: 'tdocratepers_wichtigkeit'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.motive', formControlName: 'tdocratepers_motive'}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputKeywords"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputDesc"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
    </ng-template>

    <ng-template #formRoute>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
                <ng-container *ngTemplateOutlet="inputActiontype"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputLocation"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputTrack"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataTech label|Label for fieldset: dataTech@@label.editform.tdoc.legend.dataTech">&#x231a; technische Daten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.dist', formControlName: 'tdocdatatech_dist', recommend: trackStatistic.dist, step: '0.1', min: 0}"></ng-container>
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.altMax', formControlName: 'tdocdatatech_altMax', recommend: trackStatistic.altMax}"></ng-container>
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.altAsc', formControlName: 'tdocdatatech_altAsc', recommend: trackStatistic.altAsc}"></ng-container>
                <ng-container *ngTemplateOutlet="inputNumber;context:{key: 'tdocdatatech.dur', formControlName: 'tdocdatatech_dur', recommend: trackStatistic.duration, step: '0.1'}"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="ratePersCharacter label|Label for fieldset: ratePersCharacter@@label.editform.tdoc.legend.ratePersCharacter">&#x2764; persönliche Bewertung: Charakter</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.gesamt', formControlName: 'tdocratepers_gesamt'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.wichtigkeit', formControlName: 'tdocratepers_wichtigkeit'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.motive', formControlName: 'tdocratepers_motive'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.bildung', formControlName: 'tdocratepers_bildung'}"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="ratePersDificult label|Label for fieldset: ratePersDificult@@label.editform.tdoc.legend.ratePersDificult">&#x26F9; persönliche Bewertung: Schwierigkeit</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.schwierigkeit', formControlName: 'tdocratepers_schwierigkeit'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.ausdauer', formControlName: 'tdocratepers_ausdauer'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.kraft', formControlName: 'tdocratepers_kraft'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocratepers.mental', formControlName: 'tdocratepers_mental'}"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="rateTech label|Label for fieldset: rateTech@@label.editform.tdoc.legend.rateTech">&#x2757; technische Bewertung</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputTextTech;context:{key: 'tdocratetech.overall', formControlName: 'tdocratetech_overall'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputTextTech;context:{key: 'tdocratetech.klettern', formControlName: 'tdocratetech_klettern'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputTextTech;context:{key: 'tdocratetech.ks', formControlName: 'tdocratetech_ks'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputTextTech;context:{key: 'tdocratetech.bergtour', formControlName: 'tdocratetech_bergtour'}"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputTextTech;context:{key: 'tdocratetech.firn', formControlName: 'tdocratetech_firn'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputTextTech;context:{key: 'tdocratetech.gletscher', formControlName: 'tdocratetech_gletscher'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputTextTech;context:{key: 'tdocratetech.schneeschuh', formControlName: 'tdocratetech_schneeschuh'}"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocdatainfo.sectionDetails', formControlName: 'tdocdatainfo_sectionDetails'}"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataInfo label|Label for fieldset: dataInfo@@label.editform.tdoc.legend.dataInfo">&#x26f3; Daten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocdatainfo.baseloc', formControlName: 'tdocdatainfo_baseloc'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocdatainfo.destloc', formControlName: 'tdocdatainfo_destloc'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocdatainfo.guides', formControlName: 'tdocdatainfo_guides'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocdatainfo.region', formControlName: 'tdocdatainfo_region'}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <legend i18n="dataAdditionalData label|Label for fieldset: dataAdditionalData@@label.editform.tdoc.legend.dataAdditionalData">&#x231a; Zusatzdaten</legend>
            <div class="row">
                <ng-container *ngFor="let idx of joinIndexes['linkedInfos']">
                    <ng-container *ngTemplateOutlet="inputLinkedInfo;context:{key: 'linkedInfo', idx: idx, joinName: 'linkedInfos'}"></ng-container>
                </ng-container>
            </div>
        </fieldset>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputKeywords"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputDesc;context:{recommend: true}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <legend i18n="geoData label|Label for fieldset: geoData@@label.editform.tdoc.legend.geoData">&#x26f3; Geo-Daten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'gpsTrackState', formControlName: 'gpsTrackState'}"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputGpsTrack"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataPoi label|Label for fieldset: dataPoi@@label.editform.tdoc.legend.dataPois">&#x26f3; POIs bearbeiten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputPoiList"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataPoi label|Label for fieldset: dataPoi@@label.editform.tdoc.legend.newPois">&#x26f3; POIs hinzufügen</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputNewPois"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
    </ng-template>

    <ng-template #formTrip>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
                <ng-container *ngTemplateOutlet="inputDateStart"></ng-container>
                <ng-container *ngTemplateOutlet="inputDateEnd"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputLocation"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <div class="row">
            <ng-container *ngTemplateOutlet="inputDesc;context:{recommend: true}"></ng-container>
        </div>
    </ng-template>

    <ng-template #formNews>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
                <ng-container *ngTemplateOutlet="inputDateShow"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputDateStart"></ng-container>
                <ng-container *ngTemplateOutlet="inputDateEnd"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <div class="row">
            <ng-container *ngTemplateOutlet="inputDesc;context:{recommend: true}"></ng-container>
        </div>
    </ng-template>

    <ng-template #formInfo>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
                <ng-container *ngTemplateOutlet="inputInfotype"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputLocation"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="dataInfo label|Label for fieldset: dataInfo@@label.editform.tdoc.legend.dataInfo">&#x26f3; Daten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocinfo.shortDesc', formControlName: 'tdocinfo_shortDesc'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocinfo.reference', formControlName: 'tdocinfo_reference'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocinfo.publisher', formControlName: 'tdocinfo_publisher'}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputKeywords"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputDesc"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
    </ng-template>

    <ng-template #formPlaylist>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputDesc"></ng-container>
            </div>
        </fieldset>
    </ng-template>

    <ng-template #formPoi>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputName"></ng-container>
            </div>
        </fieldset>
        <fieldset>
            <legend i18n="geoData label|Label for fieldset: geoData@@label.editform.tdoc.legend.geoData">&#x26f3; Geo-Daten</legend>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputGeoPosition;context:{flgShowArea: false}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
        <fieldset>
            <legend i18n="dataAdditionalData label|Label for fieldset: dataAdditionalData@@label.editform.tdoc.legend.dataAdditionalData">&#x231a; Zusatzdaten</legend>
            <div class="row">
                <ng-container *ngFor="let idx of joinIndexes['linkedInfos']">
                    <ng-container *ngTemplateOutlet="inputLinkedInfo;context:{key: 'linkedInfo', idx: idx, joinName: 'linkedInfos'}"></ng-container>
                </ng-container>
            </div>
        </fieldset>
        <fieldset>
            <div class="row">
                <ng-container *ngTemplateOutlet="inputKeywords"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
    </ng-template>

    <ng-template #formOdImageObject>
        <fieldset>
            <legend i18n="base label|Label for fieldset: base@@label.editform.tdoc.legend.base">&#x26bd; Stammdaten</legend>

            <app-odimage-editor
                [mainImageObject]="mainImageObject"
                [mainImageUrl]="mainImageUrl"
                (changeValue)="onChangedOdImageObject($event)"></app-odimage-editor>

            <div class="row">
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocimgobj.category', formControlName: 'tdocimgobj_category'}"></ng-container>
                <ng-container *ngTemplateOutlet="inputText;context:{key: 'tdocimgobj.key', formControlName: 'tdocimgobj_key'}"></ng-container>
            </div>
            <div class="row">
                <ng-container *ngTemplateOutlet="showText;context:{key: 'tdocimgobj.detector', formControlName: 'tdocimgobj_detector'}"></ng-container>
                <ng-container *ngTemplateOutlet="selectPersRate;context:{key: 'tdocimgobj.state', formControlName: 'tdocimgobj_state'}"></ng-container>
            </div>
        </fieldset>
        <ng-container *ngTemplateOutlet="submitRow"></ng-container>
    </ng-template>



    <ng-template #linkCreateNew let-key="key" let-id="id">
        <a (click)="onCreateNewLink(key, id)" *ngIf="modal === false">🐣</a>
    </ng-template>

    <ng-template #linkShowSelectEntity let-key="key" let-formElementName="formElementName">
        <a (click)="onShowEntityLink(key, editFormGroup.getRawValue()[formElementName][0])"
           *ngIf="editFormGroup.getRawValue()[formElementName] !== undefined
            && editFormGroup.getRawValue()[formElementName] !== null
            && editFormGroup.getRawValue()[formElementName].length === 1">🔎</a>
    </ng-template>

    <ng-template #linkShowEntity let-key="key" let-formElementName="formElementName">
        <a (click)="onShowEntityLink(key, editFormGroup.getRawValue()[formElementName][0])"
           *ngIf="editFormGroup.getRawValue()[formElementName] !== undefined
            && editFormGroup.getRawValue()[formElementName] !== null">🔎</a>
    </ng-template>

    <ng-template #inputName>
        <div class="col-sm-6 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="name label|Label for field: name@@label.editform.tdoc.name">Name:</label>
            <input formControlName="name"
                   required="required"
                   class="form-control"
                   type="text"
                   placeholder="name"
                   i18n-placeholder="name placeholder|Placeholder for name@@placeholder.form.tdoc.name"
                   (ngModelChange)="onInputChanged($event, 'name')">
            <span class="" (click)="recommendName()">&#x27F8; Generate</span>
        </div>
    </ng-template>

    <ng-template #inputDateShow>
        <div class="col-sm-4 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="dateshow label|Label for field: dateshow@@label.editform.tdoc.dateshow">Anzeigedatum:</label>
            <input formControlName="dateshow"
                   required="required"
                   type="datetime-local"
                   placeholder="dateshow"
                   i18n-placeholder="dateshow placeholder|Placeholder for dateshow@@placeholder.form.tdoc.dateshow"
                   (ngModelChange)="onInputChanged($event, 'dateshow')">
        </div>
    </ng-template>

    <ng-template #inputDateStart let-recommend=recommend>
        <div class="col-sm-3 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="datestart label|Label for field: datestart@@label.editform.tdoc.datestart">Startdatum:</label>
            <span class="recommend" *ngIf="recommend && editFormGroup.get('datestart').value != recommend" (click)="setValue('datestart', recommend)">&#x27F8; {{ recommend }} GPX</span>
            <input formControlName="datestart"
                   required="required"
                   type="datetime-local"
                   placeholder="datestart"
                   i18n-placeholder="datestart placeholder|Placeholder for datestart@@placeholder.form.tdoc.datestart"
                   (ngModelChange)="onInputChanged($event, 'datestart')">
        </div>
    </ng-template>

    <ng-template #inputDateStartTime>
        <div class="col-sm-3 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="datestart label|Label for field: datestart@@label.editform.tdoc.datestart">Startdatum:</label>
            <input formControlName="datestart"
                   required="required"
                   type="text"
                   placeholder="datestart"
                   i18n-placeholder="datestart placeholder|Placeholder for datestart@@placeholder.form.tdoc.datestart"
                   (ngModelChange)="onInputChanged($event, 'datestart')">
        </div>
    </ng-template>

    <ng-template #inputDateEnd let-recommend=recommend>
        <div class="col-sm-3 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="dateend label|Label for field: dateend@@label.editform.tdoc.dateend">Enddatum:</label>
            <span class="recommend" *ngIf="recommend && editFormGroup.get('dateend').value != recommend" (click)="setValue('dateend', recommend)">&#x27F8; {{ recommend }} GPX</span>
            <input formControlName="dateend"
                   required="required"
                   type="datetime-local"
                   placeholder="dateend"
                   i18n-placeholder="dateend placeholder|Placeholder for dateend@@placeholder.form.tdoc.dateend"
                   (ngModelChange)="onInputChanged($event, 'dateend')">
        </div>
    </ng-template>

    <ng-template #inputLocation>
        <div class="col-sm-9 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="where label|Label for filter: where@@label.searchform.tdoc.where">Where:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['locId']"
                                     [settings]="settingsSelectWhere"
                                     [texts]="textsSelectWhere"
                                     (ngModelChange)="onInputChanged($event, 'locId')"
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"
                                     required="required"
                                     formControlName="locId"
                                     ngDefaultControl></ss-multiselect-dropdown>
            <ng-container *ngTemplateOutlet="linkCreateNew;context:{key: 'LOCATION', id: record.id}"></ng-container>
            <ng-container *ngTemplateOutlet="linkShowSelectEntity;context:{key: 'LOCATION', formElementName: 'locId'}"></ng-container>
        </div>
    </ng-template>

    <ng-template #inputLocationParent>
        <div class="col-sm-9 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="where label|Label for filter: where@@label.searchform.tdoc.where">Where:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['locIdParent']"
                                     [settings]="settingsSelectWhere"
                                     [texts]="textsSelectWhere"
                                     (ngModelChange)="onInputChanged($event, 'locIdParent')"
                                     required="required"
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"
                                     formControlName="locIdParent"
                                     ngDefaultControl></ss-multiselect-dropdown>
            <ng-container *ngTemplateOutlet="linkCreateNew;context:{key: 'LOCATION', id: record.id}"></ng-container>
            <ng-container *ngTemplateOutlet="linkShowSelectEntity;context:{key: 'LOCATION', formElementName: 'locIdParent'}"></ng-container>
        </div>
    </ng-template>

    <ng-template #inputLoctype>
        <div class="col-sm-4 input-group input-group-sm">
            <label class="col-xs-4 col-form-label mr-2" i18n="loctype label|Label for filter: loctype@@label.searchform.tdoc.loctype">Regiontype:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['subTypeLocType']"
                                     [settings]="settingsSelectActionType"
                                     [texts]="textsSelectActionType"
                                     (ngModelChange)="onInputChanged($event, 'subtype')"
                                     required="required"
                                     formControlName="subtype"
                                     ngDefaultControl
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"></ss-multiselect-dropdown>
        </div>
    </ng-template>

    <ng-template #inputInfotype>
        <div class="col-sm-4 input-group input-group-sm">
            <label class="col-xs-4 col-form-label mr-2" i18n="infotype label|Label for filter: infotype@@label.searchform.tdoc.infotype">Infotype:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['subTypeInfoType']"
                                     [settings]="settingsSelectActionType"
                                     [texts]="textsSelectActionType"
                                     (ngModelChange)="onInputChanged($event, 'subtype')"
                                     required="required"
                                     formControlName="subtype"
                                     ngDefaultControl
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"></ss-multiselect-dropdown>
        </div>
    </ng-template>

    <ng-template #inputActiontype>
        <div class="col-sm-4 input-group input-group-sm">
            <label class="col-xs-4 col-form-label mr-2" i18n="actiontype label|Label for filter: actiontype@@label.searchform.tdoc.actiontype">Action:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['subTypeActiontype']"
                                     [settings]="settingsSelectActionType"
                                     [texts]="textsSelectActionType"
                                     (ngModelChange)="onInputChanged($event, 'subtype')"
                                     required="required"
                                     formControlName="subtype"
                                     ngDefaultControl
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"></ss-multiselect-dropdown>
        </div>
    </ng-template>

    <ng-template #inputRoute>
        <div class="col-sm-6 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="route label|Label for filter: route@@label.searchform.tdoc.routeId">Route:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['routeId']"
                                     [settings]="settingsSelectRoute"
                                     [texts]="textsSelectRoute"
                                     (ngModelChange)="onInputChanged($event, 'routeId')"
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"
                                     required="required"
                                     formControlName="routeId"
                                     ngDefaultControl></ss-multiselect-dropdown>
            <ng-container *ngTemplateOutlet="linkCreateNew;context:{key: 'ROUTE', id: record.id}"></ng-container>
            <ng-container *ngTemplateOutlet="linkShowSelectEntity;context:{key: 'ROUTE', formElementName: 'routeId'}"></ng-container>
        </div>
    </ng-template>

    <ng-template #inputLinkedRoute let-key="key" let-idx="idx" let-joinName="joinName">
        <div class="col-sm-6 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2"
                   i18n="linkedRoutesId label|Label for filter: linkedRoutesId@@label.searchform.tdoc.linkedRoutesId">LinkedRoutes:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['routeId']"
                                     [settings]="settingsSelectRoute"
                                     [texts]="textsSelectRoute"
                                     (onAdded)="joinElementChanged($event, joinName, idx, true)"
                                     (onRemoved)="joinElementChanged($event, joinName, idx, false)"
                                     (ngModelChange)="onInputChanged($event, joinName + 'Id' + idx)"
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"
                                     required="required"
                                     formControlName="{{joinName + 'Id' + idx}}"
                                     ngDefaultControl></ss-multiselect-dropdown>
            <ng-container *ngTemplateOutlet="linkCreateNew;context:{key: 'ROUTE', id: record.id}"></ng-container>
            <ng-container *ngTemplateOutlet="linkShowSelectEntity;context:{key: 'ROUTE', formElementName: joinName + 'Id' + idx}"></ng-container>
        </div>
        <ng-container *ngTemplateOutlet="inputTextTech;context:{key: joinName + 'LinkedRouteAttr', formControlName: joinName + 'LinkedRouteAttr'  + idx}"></ng-container>
        <div class="col-sm-3 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2"
                   i18n="linkedRoutesFull label|Label for filter: linkedRoutesFull@@label.searchform.tdoc.linkedRoutesFull">Umfasst gesamten Track:</label>
            <input type="checkbox" formControlName="{{joinName + 'Full'  + idx}}"
                   (ngModelChange)="onInputChanged($event, joinName + 'Full'  + idx)">
        </div>
    </ng-template>

    <ng-template #inputLinkedInfo let-key="key" let-idx="idx" let-joinName="joinName">
        <div class="col-sm-6 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2"
                   i18n="linkedInfosId label|Label for filter: linkedInfosId@@label.searchform.tdoc.linkedInfosId">LinkedInfos:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['infoId']"
                                     [settings]="settingsSelectInfo"
                                     [texts]="textsSelectInfo"
                                     (onAdded)="joinElementChanged($event, joinName, idx, true)"
                                     (onRemoved)="joinElementChanged($event, joinName, idx, false)"
                                     (ngModelChange)="onInputChanged($event, joinName + 'Id' + idx)"
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"
                                     required="required"
                                     formControlName="{{joinName + 'Id' + idx}}"
                                     ngDefaultControl></ss-multiselect-dropdown>
            <ng-container *ngTemplateOutlet="linkCreateNew;context:{key: 'INFO', id: record.id}"></ng-container>
            <ng-container *ngTemplateOutlet="linkShowSelectEntity;context:{key: 'INFO', formElementName: joinName + 'Id' + idx}"></ng-container>
        </div>
        <ng-container *ngTemplateOutlet="inputText;context:{key: joinName + 'LinkedDetails', formControlName: joinName + 'LinkedDetails'  + idx}"></ng-container>
    </ng-template>

    <ng-template #inputTrack>
        <div class="col-sm-9 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="track label|Label for filter: track@@label.searchform.tdoc.trackId">Track:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['trackId']"
                                     [settings]="settingsSelectTrack"
                                     [texts]="textsSelectTrack"
                                     (ngModelChange)="onInputChanged($event, 'trackId')"
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"
                                     required="required"
                                     formControlName="trackId"
                                     ngDefaultControl></ss-multiselect-dropdown>
        </div>
    </ng-template>

    <ng-template #inputTrip>
        <div class="col-sm-4 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="trip label|Label for filter: trip@@label.searchform.tdoc.tripId">Trip:</label>
            <ss-multiselect-dropdown [options]="optionsSelect['tripId']"
                                     [settings]="settingsSelectTrip"
                                     [texts]="textsSelectTrip"
                                     (ngModelChange)="onInputChanged($event, 'tripId')"
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"
                                     required="required"
                                     formControlName="tripId"
                                     ngDefaultControl></ss-multiselect-dropdown>
            <ng-container *ngTemplateOutlet="linkCreateNew;context:{key: 'TRIP', id: record.id}"></ng-container>
            <ng-container *ngTemplateOutlet="linkShowSelectEntity;context:{key: 'TRIP', formElementName: 'tripId'}"></ng-container>
        </div>
    </ng-template>

    <ng-template #inputDesc let-recommend="recommend">
        <app-text-editor
            [descTxt]="editFormGroup.getRawValue()['descTxt']"
            [descTxtRecommended]="descTxtRecommended"
            [editorCommands]="editorCommands"
            [recommendAvailable]="recommend"
            (recommendDesc)="recommendDesc()"
            (changeDesc)="setValue('descTxt', $event)"></app-text-editor>
    </ng-template>

    <ng-template #inputNumber let-key="key" let-formControlName="formControlName" let-recommend="recommend" let-step="step" let-min="min" let-max="max">
        <div class="col-sm-3 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2">{{ 'label.' + key | translate}}</label>
            <input formControlName="{{formControlName}}"
                   class="form-control"
                   type="number"
                   step="{{step ? step : '1'}}"
                   min="{{min ? min : ''}}"
                   max="{{max ? max : ''}}"
                   placeholder="{{key}}"
                   (ngModelChange)="onInputChanged($event, formControlName)">
            <span class="" *ngIf="recommend && editFormGroup.get(formControlName).value != recommend"
                  (click)="setValue(formControlName, recommend)">&#x27F8; {{recommend}} GPX</span>
        </div>
    </ng-template>

    <ng-template #inputGeoPosition let-flgShowArea="flgShowArea">
        <div class="col-sm-12 form-inline input-group input-group-sm">
            <app-gpx-editloc [type]="record.type"
                             [subtype]="record.subtype"
                             [name]="record.name"
                             [flgShowArea]="flgShowArea"
                             [gpxSrc]="editFormGroup.getRawValue()['gpsTrackSrc']"
                             [geoLoc]="editFormGroup.getRawValue()['geoLoc']"
                             (saveAdditionalFields)="updateGeoAdditionalFields($event)"
                             (saveTrackSrc)="updateGpsTrackSrc($event)"
                             (saveGeoLoc)="updateGeoLoc($event)"></app-gpx-editloc>
        </div>
    </ng-template>

    <ng-template #inputTextTech let-key="key" let-formControlName="formControlName">
        <div class="col-sm-3 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2">{{ 'label.' + key | translate}}</label>
            <input formControlName="{{formControlName}}"
                   class="form-control"
                   type="text" placeholder="{{key}}"
                   [attr.list]="formControlName"
                   (ngModelChange)="onInputChanged($event, formControlName)">
            <datalist [attr.id]="formControlName" *ngIf="inputSuggestionValues[formControlName]">
                <option *ngFor="let suggestion of inputSuggestionValues[formControlName]">{{suggestion}}</option>
            </datalist>
        </div>
    </ng-template>

    <ng-template #inputText let-key="key" let-formControlName="formControlName">
        <div class="col-sm-6 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2">{{ 'label.' + key | translate}}</label>
            <input formControlName="{{formControlName}}"
                   class="form-control"
                   type="text"
                   placeholder="{{key}}"
                   [attr.list]="formControlName"
                   (ngModelChange)="onInputChanged($event, formControlName)">
            <datalist [attr.id]="formControlName" *ngIf="inputSuggestionValues[formControlName]">
                <option *ngFor="let suggestion of inputSuggestionValues[formControlName]">{{suggestion}}</option>
            </datalist>
        </div>
    </ng-template>

    <ng-template #showText let-key="key" let-formControlName="formControlName">
        <div class="col-sm-6 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2">{{ 'label.' + key | translate}}</label>
            <input class="form-control"
                   type="text"
                   value="{{editFormGroup.getRawValue()[formControlName] ? editFormGroup.getRawValue()[formControlName] : ''}}"
                   disabled="disabled">
        </div>
    </ng-template>

    <ng-template #selectPersRate let-key="key" let-formControlName="formControlName">
        <div class="col-sm-3 input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2">{{ 'label.' + key | translate}}</label>
            <ss-multiselect-dropdown [options]="optionsSelect[key]"
                                     [settings]="settingsSelectPersRate"
                                     [texts]="textsSelectPersRate"
                                     (ngModelChange)="onInputChanged($event, formControlName)"
                                     formControlName="{{formControlName}}"
                                     ngDefaultControl
                                     class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"></ss-multiselect-dropdown>
        </div>
    </ng-template>

    <ng-template #inputKeywords>
        <div class="col-sm-12 form-inline input-group input-group-sm">
            <label class="col-xs-3 col-form-label mr-2" i18n="keywords label|Label for field: keywords@@label.editform.tdoc.keywords">Keywords:</label>
            <textarea formControlName="keywords"
                      class="form-control"
                      type="text"
                      placeholder="keywords"
                      i18n-placeholder="keywords placeholder|Placeholder for keywords@@placeholder.form.tdoc.keywords"
                      (ngModelChange)="onInputChanged($event, 'keywords')"></textarea>
        </div>
        <div class="col-sm-12 form-inline input-group input-group-sm">
            <app-tdoc-persontagsstate [keywords]="editFormGroup.getRawValue()['keywords']" [suggestions]="personTagSuggestions"
                                      (setKeyword)="setKeyword($event)" (unsetKeyword)="unsetKeyword($event)"
                                      (tagsFound)="setPersonsFound($event)"></app-tdoc-persontagsstate>
        </div>
        <div class="col-sm-12 form-inline input-group input-group-sm">
            <app-tdoc-keywordsstate [keywords]="editFormGroup.getRawValue()['keywords']" [suggestions]="keywordSuggestions"
                                    (setKeyword)="setKeyword($event)" (unsetKeyword)="unsetKeyword($event)"></app-tdoc-keywordsstate>
        </div>
    </ng-template>

    <ng-template #submitRow>
        <div class="row">
            <div class="col-sm-12 form-inline input-group input-group-sm">
                <ng-container *ngIf="availableForwardModes == null || availableForwardModes.length <= 0">
                    <button type="submit" (click)="submitSave($event, false)" class="btn btn-action btn-sm" i18n="button edit tdoc|Buttontext to edit tdoc@@button.form.tdoc.edit">Save</button>
                    <button type="submit" (click)="submitSave($event, true)" *ngIf="backToSearch" class="btn btn-action btn-sm" i18n="button editAndSearch tdoc|Buttontext to editAndSearch tdoc@@button.form.tdoc.editAndSearch">Save and Search</button>
                </ng-container>
                <ng-container *ngIf="availableForwardModes != null && availableForwardModes.length > 0">
                    <button type="submit"
                            *ngIf="availableForwardModes.includes(CommonDocEditformComponentForwardMode.SHOW)"
                            (click)="submitSaveAndForward($event, CommonDocEditformComponentForwardMode.SHOW)"
                            class="btn btn-action btn-sm" i18n="button edit tdoc|Buttontext to edit tdoc@@button.form.tdoc.edit">Save</button>
                    <button type="submit"
                            *ngIf="availableForwardModes.includes(CommonDocEditformComponentForwardMode.BACK_TO_SEARCH)"
                            (click)="submitSaveAndForward($event, CommonDocEditformComponentForwardMode.BACK_TO_SEARCH)"
                            class="btn btn-action btn-sm" i18n="button editAndSearch tdoc|Buttontext to editAndSearch tdoc@@button.form.tdoc.editAndSearch">Save and Search</button>
                    <button type="submit"
                            *ngIf="availableForwardModes.includes(CommonDocEditformComponentForwardMode.BACK_TO_SOURCE_SHOW)"
                            (click)="submitSaveAndForward($event, CommonDocEditformComponentForwardMode.BACK_TO_SOURCE_SHOW)"
                            class="btn btn-action btn-sm" i18n="button editAndShowSource tdoc|Buttontext to editAndShowSource tdoc@@button.form.tdoc.editAndShowSource">Save and Show Source</button>
                    <button type="submit"
                            *ngIf="availableForwardModes.includes(CommonDocEditformComponentForwardMode.BACK_TO_SOURCE_EDIT)"
                            (click)="submitSaveAndForward($event, CommonDocEditformComponentForwardMode.BACK_TO_SOURCE_EDIT)"
                            class="btn btn-action btn-sm" i18n="button editAndEditSource tdoc|Buttontext to editAndEditSource tdoc@@button.form.tdoc.editAndEditSource">Save and Edit Source</button>
                </ng-container>
                <button type="submit" (click)="submitCancel($event)" *ngIf="modal" class="btn btn-action btn-sm" i18n="button cancel tdoc|Buttontext to cancel tdoc@@button.form.tdoc.cancel">Cancel</button>
            </div>
        </div>
    </ng-template>

    <ng-template #inputGpsTrack>
        <div class="col-sm-12 form-inline input-group input-group-sm">
            <app-gpx-editarea [gpxSrc]="editFormGroup.getRawValue()['gpsTrackSrc']"
                    [type]="record.type"
                    [defaultPosition]="defaultPosition"
                    (save)="updateGpsTrackSrc($event)"
                    (focusin)="updateGpxArea()"></app-gpx-editarea>
        </div>
    </ng-template>

    <ng-template #inputLinkedPoi let-idx="idx" let-joinName="joinName">
        <div class="col-sm-12  form-inline">
            <div class="col-sm-3 input-group input-group-sm form-inline">
                <ss-multiselect-dropdown [options]="optionsSelect['poiJoinType']"
                                         [settings]="settingsSelectPoiJoinType"
                                         [texts]="textsSelectPoiJoinType"
                                         (ngModelChange)="onInputChanged($event, joinName + 'Poitype'  + idx)"
                                         required="required"
                                         formControlName="{{joinName + 'Poitype'  + idx}}"
                                         ngDefaultControl
                                         class="ss-multiselect-dropdown ss-multiselect-dropdown-fullwidth"></ss-multiselect-dropdown>
            </div>
            <div class="col-sm-5 input-group input-group-sm form-inline">
                {{editFormGroup.getRawValue()[ joinName + 'Name' + idx]}}
                <ng-container *ngTemplateOutlet="linkShowEntity;context:{key: 'POI', formElementName: joinName + 'Id' + idx}"></ng-container>
            </div>
            <ng-container *ngTemplateOutlet="inputNumber;context:{key: joinName + 'Position', formControlName: joinName + 'Position'  + idx, min: 1}"></ng-container>
            <div class="col-sm-1 input-group input-group-sm form-inline">
                <a (click)="onRemovePoiFromForm(idx)">🗑</a>
            </div>
        </div>
    </ng-template>

    <ng-template #inputPoiList>
        <div class="container">
            <app-tdoc-map [mapId]="'showPoiMap'"
                          [height]="'400px'"
                          [mapZoom]="'9'"
                          [editable]="false"
                          [tdocs]="poiGeoRecords.concat(trackRecords)"
                          *ngIf="poiGeoRecords && poiGeoRecords.length > 0"></app-tdoc-map>
            <ng-container *ngFor="let idx of joinIndexes['linkedPois']">
                <ng-container *ngTemplateOutlet="inputLinkedPoi;context:{idx: idx, joinName: 'linkedPois'}"></ng-container>
            </ng-container>
        </div>
    </ng-template>

    <ng-template #inputNewPois>
        <app-tdoc-selectsearch
                [baseId]="record.id"
                [baseLocHierarchy]="record.locHirarchie"
                [basePosition]="poiSearchBasePosition"
                [nameFilterValues]="poiSearchNames"
                [type]="'POI'"
                (appendSelected)="onAppendSelectedPois($event)">
        </app-tdoc-selectsearch>
    </ng-template>

</form>
